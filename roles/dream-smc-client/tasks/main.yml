
-
    name: Synapse Client
    pip: name=synapseclient
-
    name: Download SMC Evaluation Tool
    git: dest=/opt/galaxy/SMC-Het-Challenge repo=https://github.com/Sage-Bionetworks/SMC-Het-Challenge.git
-
    name: Add SMC Evaluation Tool to Toolbox
    template: src=dev_tool_conf.xml.j2 dest={{ dev_tool_conf }}
- 
    name: Replace small tool conf with empty conf
    template: src=tool_conf.small.xml.j2 dest={{ small_tool_conf_path }}
    when: small_tool_conf
-
    name: Copy dream_galaxy_submit
    command: cp /opt/galaxy/SMC-Het-Challenge/dream_galaxy_submit /usr/bin/
-
    name: Add galaxy_lib_sync
    template: src=galaxy_lib_sync.py.j2 dest=/opt/galaxy/galaxy_lib_sync.py owner=ubuntu group=ubuntu mode="u=rx,g=rx,o="
- 
    name: Add Auto Import supervisor configuration.
    template: src=supervisor.conf.j2 dest=/etc/supervisor/conf.d/galaxy_lib_sync.conf
-
    name: Make Data directory
    file: path=/opt/galaxy/data state=directory owner=ubuntu group=ubuntu mode="u=rxw,g=rxw,o=rx"
- 
    name: Download Example Data
    get_url: url={{ item.url }} dest=/opt/galaxy/data/{{ item.file }}
    with_items:
        - 
            url: https://raw.githubusercontent.com/Sage-Bionetworks/SMC-Het-Challenge-Examples/master/data/flat_subclones.txt
            file: flat_subclones.txt
        - 
            url: https://raw.githubusercontent.com/Sage-Bionetworks/SMC-Het-Challenge-Examples/master/data/mutect_filtered_IS3_chr21.vcf
            file: mutect_filtered_IS3_chr21.vcf